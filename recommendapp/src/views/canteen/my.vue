<template>
	<div id="canteenMy">
		<div class="mycard">
			<div class="cardRight">
				<img :src=userInfo.header_img />
			</div>
			<div class="cardLeft">
				<span id="username">用户名: {{userInfo.username}}</span>
				<span id="number">学号: {{userInfo.stu_id}}</span>
			</div>
		</div>
		<div class="function">
			<div class="function__header">
				常用功能
			</div>
			<div class="function__items">
				<div class="function__item">
					<svg t="1637145376321" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="57944" width="50" height="50"><path d="M515.328 510.72m-450.816 0a450.816 450.816 0 1 0 901.632 0 450.816 450.816 0 1 0-901.632 0Z" fill="#FFF1DC" p-id="57945"></path><path d="M580.7616 465.2032c-6.656 1.3312-12.8 5.2224-19.968 12.544l-15.36 15.7184-20.1216-8.7552a32.5632 32.5632 0 0 1-9.1136-5.3248c-1.5872-1.3312-3.072-2.6624-4.4544-4.096-7.0656-7.3216-15.4624-10.8032-27.2384-11.264-0.8192-0.0512-1.6384-0.0512-2.4576-0.0512-12.2368 0-20.992 3.9424-28.0576 12.5952-15.9744 19.5584-16.4352 50.5344-1.024 72.0896 9.472 13.312 21.504 25.7536 36.7616 37.9904 13.6704 11.008 28.4672 22.3744 47.6672 36.7616 27.3408-19.8144 53.1456-38.5536 74.24-61.8496 18.8416-20.7872 25.088-39.936 20.224-62.0032-3.4304-16.0256-14.7456-41.728-51.0976-34.3552z" fill="#FF7E3E" p-id="57946"></path><path d="M772.5568 311.6544h-212.5312c-13.2608 0-26.0608-4.9664-35.84-13.9776L467.968 245.9648a53.12 53.12 0 0 0-35.84-13.9776H302.592c-28.7744 0-52.1216 23.3472-52.1216 52.1216v432.2304c0 28.7744 23.3472 52.1216 52.1216 52.1216h469.9648c28.7744 0 52.1216-23.3472 52.1216-52.1728V363.8272c0.0512-28.8256-23.296-52.1728-52.1216-52.1728z m-113.6128 292.608c-25.7536 28.416-55.7056 50.1248-84.6848 71.1168l-2.8672 2.048c-10.24 7.424-21.8112 11.1616-33.4848 11.1616-12.4928 0-25.1904-4.2496-36.5056-12.6976-20.7872-15.5136-36.6592-27.7504-51.456-39.6288-19.8656-15.9744-35.7888-32.512-48.7424-50.6368-32-44.8512-30.5152-107.7248 3.584-149.4016 20.2752-24.832 48.7936-37.1712 82.3808-35.8912 18.944 0.768 35.8912 5.6832 50.5856 14.6432a91.904 91.904 0 0 1 30.464-12.1856c60.672-12.288 112.4864 21.9136 125.952 83.0464 9.3184 42.4448-2.56 82.2784-35.2256 118.4256z" fill="#FC7032" p-id="57947"></path><path d="M772.5568 311.6544h-212.5312c-13.2608 0-26.0608-4.9664-35.84-13.9776L467.968 245.9648a53.12 53.12 0 0 0-35.84-13.9776H302.592c-28.7744 0-52.1216 23.3472-52.1216 52.1216v432.2304c0 28.8256 23.3472 52.1728 52.1728 52.1728h199.8848c182.6304-56.6272 315.5456-226.2528 317.0816-427.1616-8.3968-17.5104-26.2656-29.696-47.0528-29.696z m-113.6128 292.608c-25.7536 28.416-55.7056 50.1248-84.6848 71.1168l-2.8672 2.0992c-10.24 7.424-21.8112 11.1616-33.4848 11.1616-12.4928 0-25.1904-4.2496-36.5056-12.6976-20.7872-15.5136-36.6592-27.7504-51.456-39.6288-19.8656-15.9744-35.7888-32.512-48.7424-50.6368-32-44.8512-30.5152-107.7248 3.584-149.4016 20.2752-24.832 48.7936-37.1712 82.3808-35.8912 18.944 0.768 35.8912 5.6832 50.5856 14.6432a91.904 91.904 0 0 1 30.464-12.1856c60.672-12.288 112.4864 21.9136 125.952 83.0464 9.3184 42.3936-2.56 82.2272-35.2256 118.3744z" fill="#FF7E3E" p-id="57948"></path><path d="M524.2368 297.6768L467.968 245.9648a53.12 53.12 0 0 0-35.84-13.9776H302.592c-28.7744 0-52.1216 23.3472-52.1216 52.1216v344.3712c56.3712-0.6144 110.2848-11.52 159.8464-31.0272-3.2256-3.8912-6.2976-7.8848-9.1648-11.9296-32-44.8512-30.5152-107.7248 3.584-149.4016 20.2752-24.832 48.7936-37.1712 82.3808-35.8912 18.944 0.768 35.8912 5.6832 50.5856 14.6432a91.904 91.904 0 0 1 30.464-12.1856c23.5008-4.7616 45.6704-2.4576 64.768 5.5808a448.39424 448.39424 0 0 0 43.1616-96.6656h-116.0704c-13.2608 0.0512-26.0096-4.9152-35.7888-13.9264z" fill="#FF9552" p-id="57949"></path><path d="M593.8688 463.9232c-3.9424-0.1024-8.2944 0.3072-13.1072 1.28-6.656 1.3312-12.8 5.2224-19.968 12.544l-15.36 15.7184-20.1216-8.7552a32.5632 32.5632 0 0 1-9.1136-5.3248c-1.5872-1.3312-3.072-2.6624-4.4544-4.096-7.0656-7.3216-15.4624-10.8032-27.2384-11.264-0.8192-0.0512-1.6384-0.0512-2.4576-0.0512-12.2368 0-20.992 3.9424-28.0576 12.5952-15.9744 19.5584-16.4352 50.5344-1.024 72.0896a170.9056 170.9056 0 0 0 17.0496 20.224 453.888 453.888 0 0 0 123.8528-104.96z" fill="#FF9552" p-id="57950"></path><path d="M501.4528 276.7872l-33.4848-30.7712a53.12 53.12 0 0 0-35.84-13.9776H302.592c-28.7744 0-52.1216 23.3472-52.1216 52.1216v169.1648c103.0144-27.9552 191.3344-91.4432 250.9824-176.5376z" fill="#FFA56A" p-id="57951"></path></svg>
					<div>我的收藏</div>
				</div>
				<div class="function__item">
					<svg t="1637145492606" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="87837" width="50" height="50"><path d="M514.6112 509.696m-450.816 0a450.816 450.816 0 1 0 901.632 0 450.816 450.816 0 1 0-901.632 0Z" fill="#E9F4FF" p-id="87838"></path><path d="M675.4816 672.6144c-17.8176-75.6224-69.2736-135.6288-136.448-165.7856 41.5744-31.8464 67.6352-83.0464 64.5632-139.9808-4.4032-82.3296-70.656-149.7088-152.8832-155.4432-96.256-6.7072-176.6912 69.6832-176.6912 164.5056 0 53.2992 25.4464 100.7616 64.8192 130.9184-67.1744 30.1568-118.6304 90.1632-136.448 165.7856-5.0688 21.6064-11.1616 50.944 3.9936 67.6864 13.2608 14.6432 44.4416 15.4624 64.2048 15.4624h347.136c3.4816 0 30.9248-0.768 34.304-1.6384 34.5088-8.4992 31.232-48.4864 23.4496-81.5104z m-139.5712 30.5664H344.832a33.28 33.28 0 1 1 0-66.56h191.0784a33.28 33.28 0 1 1 0 66.56z" fill="#2595E8" p-id="87839"></path><path d="M539.0336 506.8288c39.3728-30.1568 64.8192-77.6192 64.8192-130.9184 0-90.9312-73.984-164.9152-164.9152-164.9152S274.0224 284.9792 274.0224 375.9104c0 53.2992 25.4464 100.7616 64.8192 130.9184-67.1744 30.1568-118.6304 90.1632-136.448 165.7856-4.7616 20.1216-12.032 46.6944 1.3824 62.5664 5.0176 5.9392 14.1312 11.8784 26.3168 14.6944 30.2592 6.656 62.1056 4.3008 94.3616 4.3008 74.0352 0 143.7184-18.4832 204.8-50.9952H344.832a33.28 33.28 0 1 1 0-66.56h191.0784a33.28 33.28 0 0 1 31.6416 43.5712 438.84032 438.84032 0 0 0 82.6368-72.0896 241.08032 241.08032 0 0 0-111.1552-101.2736z" fill="#3A9CED" p-id="87840"></path><path d="M744.704 487.7824c27.2896-26.0608 44.288-62.7712 44.288-103.424 0-78.9504-64.2048-143.1552-143.1552-143.1552-17.7664 0-32.2048 14.4384-32.2048 32.2048s14.4384 32.2048 32.2048 32.2048c43.4176 0 78.7456 35.328 78.7456 78.7456 0 40.6528-30.9248 74.1376-70.5024 78.2848-2.7648-0.1024-5.4784-0.2048-8.2432-0.2048-17.7664 0-32.2048 14.4384-32.2048 32.2048v0.6144c0 17.7664 14.4384 32.2048 32.2048 32.2048 3.072 0 6.144-0.1536 9.1648-0.3072 73.8816 4.7616 132.5568 66.304 132.5568 141.3632 0 17.7664 14.4384 32.2048 32.2048 32.2048s32.2048-14.4384 32.2048-32.2048c0-77.7728-43.4176-145.664-107.264-180.736z" fill="#2595E8" p-id="87841"></path><path d="M760.2688 298.3936c-26.1632-34.7136-67.6864-57.1904-114.432-57.1904-17.7664 0-32.2048 14.4384-32.2048 32.2048s14.4384 32.2048 32.2048 32.2048c43.4176 0 78.7456 35.328 78.7456 78.7456 0 40.6528-30.9248 74.1376-70.5024 78.2848-2.7648-0.1024-5.4784-0.2048-8.2432-0.2048-17.7664 0-32.2048 14.4384-32.2048 32.2048v0.6144c0 17.7664 14.4384 32.2048 32.2048 32.2048 3.072 0 6.144-0.1536 9.1648-0.3072 16.2304 1.024 31.744 4.864 46.08 10.9056 37.888-64.6656 59.648-139.9296 59.648-220.2624 0-6.4512-0.2048-12.9024-0.4608-19.4048z" fill="#3A9CED" p-id="87842"></path><path d="M613.632 273.408c0 7.936 2.8672 15.1552 7.6288 20.7872 5.1712-16.4864 9.4208-33.3824 12.6464-50.688a32.21504 32.21504 0 0 0-20.2752 29.9008zM233.5744 598.272c163.2768-10.5472 302.08-110.8992 367.5136-252.16-14.08-76.7488-81.408-135.168-162.2016-135.168-90.9312 0-164.9152 73.984-164.9152 164.9152 0 53.2992 25.4464 100.7616 64.8192 130.9184-43.1616 19.456-79.7696 51.2-105.216 91.4944z" fill="#59ADF8" p-id="87843"></path><path d="M479.232 215.9616c-12.9024-3.2768-26.4192-5.0176-40.2944-5.0176-90.9312 0-164.9152 73.984-164.9152 164.9152 0 10.0864 0.9216 19.968 2.6624 29.5424 86.3232-39.4752 157.5424-106.2912 202.5472-189.44z" fill="#6BC2FC" p-id="87844"></path></svg>
					<div>个人信息</div>
				</div>
				<div class="function__item">
					<svg t="1637145461979" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="58103" width="50" height="50"><path d="M514.6624 510.1568m-450.816 0a450.816 450.816 0 1 0 901.632 0 450.816 450.816 0 1 0-901.632 0Z" fill="#FFF1DC" p-id="58104"></path><path d="M697.9584 234.8032H331.4176c-50.8416 0-92.0576 41.216-92.0576 92.0576v366.5408c0 50.8416 41.216 92.0576 92.0576 92.0576h366.5408c50.8416 0 92.0576-41.216 92.0576-92.0576V326.912c0-50.8416-41.216-92.1088-92.0576-92.1088z m-34.1504 260.864l-50.5856 49.3056c-5.12 5.0176-7.4752 12.1856-6.2464 19.2512l11.9296 69.632c3.072 17.7664-15.616 31.3344-31.5904 22.9376l-62.5152-32.8704a21.8368 21.8368 0 0 0-20.2752 0l-62.5152 32.8704c-15.9744 8.3968-34.6112-5.1712-31.5904-22.9376l11.9296-69.632c1.2288-7.0656-1.1264-14.2848-6.2464-19.2512l-50.5856-49.3056c-12.9024-12.5952-5.7856-34.5088 12.0832-37.12l69.9392-10.1376a21.8112 21.8112 0 0 0 16.384-11.8784l31.2832-63.3344c7.9872-16.1792 31.0272-16.1792 39.0144 0l31.2832 63.3344a21.8112 21.8112 0 0 0 16.384 11.8784l69.9392 10.1376c17.7664 2.56 24.8832 24.5248 11.9808 37.12z" fill="#FC7032" p-id="58105"></path><path d="M790.016 326.912c0-50.8416-41.216-92.0576-92.0576-92.0576H331.4176c-50.8416 0-92.0576 41.216-92.0576 92.0576v366.5408c0 50.8416 41.216 92.0576 92.0576 92.0576h143.872c158.1056-46.08 280.32-176.4352 314.7264-339.1488V326.912z m-126.208 168.7552l-50.5856 49.3056c-5.12 5.0176-7.4752 12.1856-6.2464 19.2512l11.9296 69.632c3.072 17.7664-15.616 31.3344-31.5904 22.9376l-62.5152-32.8704a21.8368 21.8368 0 0 0-20.2752 0l-62.5152 32.8704c-15.9744 8.3968-34.6112-5.1712-31.5904-22.9376l11.9296-69.632c1.2288-7.0656-1.1264-14.2848-6.2464-19.2512l-50.5856-49.3056c-12.9024-12.5952-5.7856-34.5088 12.0832-37.12l69.9392-10.1376a21.8112 21.8112 0 0 0 16.384-11.8784l31.2832-63.3344c7.9872-16.1792 31.0272-16.1792 39.0144 0l31.2832 63.3344a21.8112 21.8112 0 0 0 16.384 11.8784l69.9392 10.1376c17.7664 2.56 24.8832 24.5248 11.9808 37.12z" fill="#FF7E3E" p-id="58106"></path><path d="M331.4176 234.8032c-50.8416 0-92.0576 41.216-92.0576 92.0576v316.2624c63.0272-1.8944 122.7264-16.6912 176.6912-41.8816l6.3488-37.0688c1.2288-7.0656-1.1264-14.2848-6.2464-19.2512L365.568 495.616c-12.9024-12.5952-5.7856-34.5088 12.0832-37.12l69.9392-10.1376a21.8112 21.8112 0 0 0 16.384-11.8784l31.2832-63.3344c7.9872-16.1792 31.0272-16.1792 39.0144 0l31.2832 63.3344a21.8112 21.8112 0 0 0 16.384 11.8784l13.6704 1.9968c43.4176-62.208 71.5776-135.8336 79.0016-215.552H331.4176z" fill="#FF9552" p-id="58107"></path><path d="M239.36 326.912v138.752c120.832-35.4304 220.6208-120.1152 276.1216-230.8096H331.4176c-50.8416-0.0512-92.0576 41.216-92.0576 92.0576z" fill="#FFA56A" p-id="58108"></path></svg>
					<div>猜你喜欢</div>
				</div>
			</div>
		</div>
		<div class="exit">
			<van-icon class="setting" name="setting-o" />
			<span @click="exitEvent"><van-icon id="exchange"  name="exchange" />退出当前账号</span>
		</div>
		<div class="extra">
			<div class="extra__header">
				额外功能
			</div>
			<div class="extra__item" @click="handleClickSkip(function_obj['SCHOOL'])">
				<svg t="1637146183157" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="87994" width="50" height="50"><path d="M509.9008 514.7136m-450.816 0a450.816 450.816 0 1 0 901.632 0 450.816 450.816 0 1 0-901.632 0Z" fill="#FFF1DC" p-id="87995"></path><path d="M759.0912 278.272c-58.4192-1.6384-171.4688-10.752-227.584-55.5008-12.7488-10.1888-30.464-11.264-44.2368-2.5088-36.0448 22.8864-108.9024 60.5184-203.264 64.6656-20.4288 0.9216-36.608 17.5104-36.608 37.9392 0 143.36 0.1536 139.6224 0.1536 177.3568 0 40.1408-45.9776 203.2128 246.9376 329.728 9.4208 4.096 20.1728 4.1984 29.696 0.256 221.0816-91.0336 271.6672-186.9824 271.6672-298.0864V316.2112c0.0512-20.5312-16.2304-37.376-36.7616-37.9392z m-109.056 208.384l-130.9696 130.4064a36.6848 36.6848 0 0 1-25.9072 10.7008c-9.3696 0-18.7392-3.5328-25.856-10.6496l-75.9296-75.3664a36.77184 36.77184 0 0 1-0.2048-51.968 36.77184 36.77184 0 0 1 51.968-0.2048l50.0224 49.6128 105.1136-104.6528c14.3872-14.2848 37.632-14.2848 51.968 0.1024 14.2336 14.4384 14.1824 37.6832-0.2048 52.0192z" fill="#FC7032" p-id="87996"></path><path d="M775.7824 338.8416c0-19.6608-1.4336-39.0144-4.0448-57.9584-3.9424-1.536-8.192-2.4576-12.6464-2.6112-58.4192-1.6384-171.4688-10.752-227.584-55.5008-12.7488-10.1888-30.464-11.264-44.2368-2.5088-36.0448 22.8864-108.9024 60.5184-203.264 64.6656-20.4288 0.9216-36.608 17.5104-36.608 37.9392 0 143.36 0.1536 139.6224 0.1536 177.3568 0 33.4848-31.8976 152.4224 127.2832 264.3968 223.6928-13.3632 400.9472-198.8096 400.9472-425.7792zM391.1168 489.7792a36.77184 36.77184 0 0 1 51.968-0.2048l50.0224 49.6128 105.1136-104.6528c14.3872-14.2848 37.632-14.2848 51.968 0.1024a36.72576 36.72576 0 0 1-0.1024 51.968l-130.9696 130.4064a36.6848 36.6848 0 0 1-25.9072 10.7008c-9.3696 0-18.7392-3.5328-25.856-10.6496L391.424 541.696c-14.4896-14.2336-14.592-37.4784-0.3072-51.9168z" fill="#FF7E3E" p-id="87997"></path><path d="M487.2704 220.2624c-36.0448 22.8864-108.9024 60.5184-203.264 64.6656-20.4288 0.9216-35.9936 17.5104-36.608 37.9392-4.0448 134.1952-4.1472 138.6496-4.1472 176.384 0 17.92-4.864 61.3376 11.1104 114.1248a424.1408 424.1408 0 0 0 165.7856-42.9568l-28.8768-28.672a36.77184 36.77184 0 0 1-0.2048-51.968 36.77184 36.77184 0 0 1 51.968-0.2048l41.8304 41.5232c84.9408-62.464 145.8176-155.648 166.4-263.168-44.8512-7.8848-90.2144-21.6064-119.808-45.1584-12.6976-10.1376-30.4128-11.264-44.1856-2.5088z" fill="#FF9552" p-id="87998"></path><path d="M512.5632 214.8352c-8.6016-1.1264-17.5616 0.5632-25.2928 5.4784-36.0448 22.8864-108.9024 60.5184-203.264 64.6656-20.4288 0.9216-36.608 17.5104-36.608 37.9392 0 65.3312-3.5328 99.1232-3.4816 121.1904 117.9136-35.2768 217.8048-119.0912 268.6464-229.2736z" fill="#FFA56A" p-id="87999"></path></svg>
				<div>我的学校</div>
			</div>
		</div>
		<tab-nav>

		</tab-nav>
	</div>
</template>

<script>
	import Vue from 'vue';
	import tabNav from '@/components/tabNav'
	import { Icon } from 'vant';
	import { cloneDeep } from "lodash"

	const FUNCTION_OBJECT = {
		COLLECTION: "COLLECTION",
		PERSON: "PERSON",
		ENJOY: "ENJOY",
		SCHOOL: "SCHOOL"
	}
	
	Vue.use(Icon);
	export default {
		data(){
			return {
				userInfo: [], //用户信息数据
				function_obj: cloneDeep(FUNCTION_OBJECT),
			}
		},
		components:{
			tabNav
		},
		methods:{
			getUserInfo(){
				if(localStorage.getItem('userInfo')){
					this.userInfo = JSON.parse(localStorage.getItem('userInfo'));
					this.userInfo.password = '';
					console.log(this.userInfo);
					
				}else{
					let userInfoData = {
						header_img:'https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fhbimg.huabanimg.com%2F0830450561b24f4573bed70d7f74bd43f39302e11bee-s2tj6i_fw658&refer=http%3A%2F%2Fhbimg.huabanimg.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1621668824&t=2ff7ff3365a63f9534388c7eca916d6e',
						username:'普通用户',
						stu_id:'10000000000'
					};
					this.userInfo = userInfoData;
				}
			},
			exitEvent(){
				localStorage.removeItem('userInfo');
				this.$router.push({
					path: '/user/login'
				})
			},
			// 功能跳转
			handleClickSkip(key) {
				switch (key) {
				case 'COLLECTION':
					break;
				case 'PERSON':
					break;
				case 'ENJOY':
					break;
				case 'SCHOOL':
					window.location.href = 'https://www.bcu.edu.cn/';
					break;
				}
			}
		},
		mounted(){
			//获取用户列表
			this.getUserInfo();
		}
		
	}
</script>

<style lang="less">
	#canteenMy{
		.mycard{
			width: 90%;
			height: 6.25rem;
			margin: 20px auto;
			border: 1px solid black;
			border-radius: 0.3125rem;
			display: flex;
			
		}
		.cardRight{
			width: 6.25rem;
			height: 6.25rem;
			img{
				box-sizing: border-box;
				width: 100%;
				border-radius: 50%;
				padding:0.3125rem
			}
		}
		.cardLeft{
			display: flex;
			flex-direction: column;
			justify-content: center;
			span{
				margin: 0.3125rem 0;
				font-size: 1.125rem;
				
			}
		}
		.function {
			width: 90%;
			height: 120px;
			margin: 0.925rem auto;
			border: 1px solid black;
			border-radius: 0.3125rem;
			&__header {
				height: 20px;
				line-height: 20px;
				padding: 0 23px;
				margin-top: 5px;
			}
			&__items {
				width: 100%;
				height: 70%;
				display: flex;
				justify-content: space-around;
				align-items: center;
			}
		}
		.exit{
			width: 90%;
			height: 1.875rem;
			margin: 0.625rem auto;
			border: 1px solid black;
			border-radius: 0.3125rem;
			display: flex;
			justify-content: space-between;
			align-items: center;
			.setting{
				margin-left: 0.625rem;
			}
			span{
				margin-right: 0.625rem;
				#exchange{
					padding: 0.125rem;
				}
			}
		}
		.extra {
			width: 90%;
			height: 120px;
			margin: 0.925rem auto;
			border: 1px solid black;
			border-radius: 0.3125rem;
			&__header {
				height: 20px;
				line-height: 20px;
				padding: 0 23px;
				margin-top: 5px;
			}
			&__item {
				margin-left: 25px;
				margin-top: 8px;
			}
		}
	}
</style>